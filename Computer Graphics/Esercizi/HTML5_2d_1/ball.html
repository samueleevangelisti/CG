<!doctype html>
<html>
	<body>
      <head>
          <style type="text/css">
             canvas { border: 2px solid blue; }
          </style>
      </head>
      <canvas width="300" height="300" id="my_Canvas"></canvas>
      <script>
/*============= Creating a canvas =================*/ 
    var x = 150;
    var y = 150;
    var dx=4;
    var dy=2;
    var r = 25;
    var larghezza=300;
    var lunghezza=300;
    var cg;
    function init() {
       var canvas = document.getElementById('my_Canvas'); 
       cg = canvas.getContext("2d");
    }
/*================= Drawing ===========================*/ 
    var time_old=0;
    var animate=function(time) {
      cg.clearRect(0,0,larghezza,lunghezza);
      cg.beginPath();
      cg.fillStyle = 'red';
      cg.arc(x, y, r, 0, Math.PI*2, true); 
//      cg.closePath();
      cg.fill();
      if(x+r >= larghezza || x-r <= 0) dx = -dx;
      if(y+r >= lunghezza || y-r <= 0) dy = -dy;
      x += dx;
      y += dy;
      window.requestAnimationFrame(animate); 
     }
        
      init();
      animate(0);
      </script>
   </body>
</html>